{"version":3,"sources":["main.js"],"names":["getLocation","getElementById","value","address","document","query","concat","city","geocodingUrl","then","encodeURIComponent","fetch","data","response","length","json","location","latitude","longitude","lon","locationInput","console","error","alert","locationParts","postMedicalData","campus","querySelector","status","model","replace","trim","URLSearchParams","window","search","showLoader","get","userID","function","hideLoader","success","hideMedical","showMessageModel","reload","message","xhr","responseText","postSecurityData","urlParams","split","securityType","$","ajax","dataType","hideSecurtyMedical","handleFire","postFireData","hideFireMedical","email","password","style","display","handleSignIn","toLowerCase","log","login","url","user","userType","handleRegister","password2","fullname","test","cellNumber","type","passwordRegex","registerUsers","handleUpdatePassword","emailInput","href","updatePassword","changeReadonly","allInputs","hiddenInputs","forEach","readOnly","input","borderBottom","btnUpdate","getUserData","querySelectorAll","color","goToMainHtml","goToAccHtml","goToAdminHtml","populateModalFields","emailRegex","phoneRegex","handleUpdateUser","updateUserDetails","getMedicalReports","dataHtml","medicalDisplay","getFireReports","id","dateTime","html","fireDisplay","getSecurityReports","medicalView","itemId","place","medicalViewsos","text","updateMapIframe","securityView","securityViewsos","fireViewsos","src","mapUrl","medicalViewUserData","sosMedical","navigator","geolocation","getCurrentPosition","position","coords","sosFire","sosSecuriry","getAllSOSReports","postHtml","Array","sosFireDisplay","item","sosSecurity","sosSecurityDisplay","isArray","sosMedicalDisplay","append"],"mappings":"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","file":"main.min.js","sourcesContent":["function getLocation() {\r\n\r\n    const city = document.getElementById('city').value;\r\n    const address = document.getElementById('address').value;\r\n\r\n    const query = `${address}, ${city}`;\r\n\r\n    const geocodingUrl = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(query)}&format=json&limit=1`;\r\n\r\n    fetch(geocodingUrl)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if (data && data.length > 0) {\r\n                const location = data[0];\r\n                const latitude = location.lat;\r\n                const longitude = location.lon;\r\n\r\n\r\n                const locationInput = document.getElementById('location');\r\n                locationInput.value = `Latitude: ${latitude}, Longitude: ${longitude}`;\r\n\r\n\r\n            } else {\r\n                console.error(\"Geocoding failed: No results found\");\r\n                alert(\"Unable to retrieve location. Please check the address and city name.\");\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error(\"Error fetching geocode:\", error);\r\n            alert(\"Unable to retrieve location. Please try again later.\");\r\n        });\r\n}\r\n\r\n\r\nfunction handleMadical() {\r\n    var model = document.getElementById('medicalModel');\r\n    if (model) {\r\n        var campus = model.querySelector('#campusName').value;\r\n        var status = model.querySelector('#healthStatus').value;\r\n        var location = model.querySelector('#location').value;\r\n        var city = model.querySelector('#city').value;\r\n        var locationParts = location.split(',');\r\n        var latitude = locationParts[0] ? locationParts[0].replace('Latitude: ', '').trim() : 'Not Available';\r\n        var longitude = locationParts[1] ? locationParts[1].replace('Longitude: ', '').trim() : 'Not Available';\r\n\r\n        postMedicalData(campus, status, latitude, longitude, city);\r\n    }\r\n}\r\n\r\nfunction postMedicalData(campus, status, latitude, longitude, city) {\r\n    showLoader();\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            function: 'postMedicalData',\r\n            campus: campus,\r\n            longitude: longitude,\r\n            latitude: latitude,\r\n            userID: userID,\r\n            city: city,\r\n            status: status\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n            if (response.success) {\r\n                hideMedical();\r\n                showMessageModel();\r\n                location.reload();\r\n\r\n            } else {\r\n                alert(response.message);\r\n                hideMedical();\r\n                location.reload();\r\n\r\n            }\r\n        },\r\n        error: function (xhr, status, error) {\r\n            console.error('Error response:', xhr.responseText);\r\n            hideLoader();\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction handleSecurity() {\r\n    var model = document.getElementById('securityModel');\r\n    if (model) {\r\n        var campus = model.querySelector('#campusName').value;\r\n        var securityType = model.querySelector('#securityType').value;\r\n        var location = model.querySelector('#location').value;\r\n        var city = model.querySelector('#city').value;\r\n\r\n        var locationParts = location.split(',');\r\n        var latitude = locationParts[0] ? locationParts[0].replace('Latitude: ', '').trim() : 'Not Available';\r\n        var longitude = locationParts[1] ? locationParts[1].replace('Longitude: ', '').trim() : 'Not Available';\r\n\r\n        postSecurityData(campus, securityType, latitude, longitude, city);\r\n    }\r\n}\r\n\r\nfunction postSecurityData(campus, securityType, latitude, longitude, city) {\r\n    showLoader();\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            function: 'postsecurityData',\r\n            campus: campus,\r\n            longitude: longitude,\r\n            latitude: latitude,\r\n            userID: userID,\r\n            city: city,\r\n            securityType: securityType\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n            if (response.success) {\r\n                showMessageModel();\r\n                showMessageModel();\r\n                location.reload();\r\n\r\n            } else {\r\n                alert(response.message);\r\n                hideSecurtyMedical();\r\n                location.reload();\r\n\r\n            }\r\n        },\r\n        error: function (xhr, status, error) {\r\n            console.error('Error response:', xhr.responseText);\r\n            hideLoader();\r\n        }\r\n    });\r\n}\r\n\r\nfunction handleFire() {\r\n    var model = document.getElementById('fireModel');\r\n    if (model) {\r\n        var campus = model.querySelector('#campusName').value;\r\n        var location = model.querySelector('#location').value;\r\n        var city = model.querySelector('#city').value;\r\n        var locationParts = location.split(',');\r\n        var latitude = locationParts[0] ? locationParts[0].replace('Latitude: ', '').trim() : 'Not Available';\r\n        var longitude = locationParts[1] ? locationParts[1].replace('Longitude: ', '').trim() : 'Not Available';\r\n\r\n        postFireData(campus, latitude, longitude, city);\r\n\r\n\r\n    }\r\n}\r\n\r\nfunction postFireData(campus, latitude, longitude, city) {\r\n    showLoader();\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            function: 'postFireData',\r\n            campus: campus,\r\n            longitude: longitude,\r\n            latitude: latitude,\r\n            city: city,\r\n            userID: userID,\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n            if (response.success) {\r\n                hideFireMedical();\r\n                showMessageModel();\r\n                location.reload();\r\n\r\n            } else {\r\n                alert(response.message);\r\n                hideFireMedical();\r\n                location.reload();\r\n\r\n            }\r\n        },\r\n        error: function (xhr, status, error) {\r\n            console.error('Error response:', xhr.responseText);\r\n            hideLoader();\r\n        }\r\n    });\r\n}\r\n\r\nfunction showLoader() {\r\n    document.getElementById('loader-overlay').style.display = 'block';\r\n}\r\n\r\nfunction hideLoader() {\r\n    document.getElementById('loader-overlay').style.display = 'none';\r\n}\r\n\r\nfunction handleSignIn() {\r\n\r\n    const email = document.getElementById('email').value.toLowerCase().trim();\r\n    const password = document.getElementById('password').value.trim();\r\n\r\n    if (email === '') {\r\n        alert('Email is required');\r\n        return;\r\n    }\r\n\r\n    if (password === '') {\r\n        alert('Password is required');\r\n        return;\r\n    }\r\n\r\n    login(email, password);\r\n\r\n}\r\n\r\nfunction login(email, password) {\r\n    showLoader();\r\n    console.log('Attempting login with email:', email, 'and password:', password);\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            function: 'login',\r\n            email: email,\r\n            password: password\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n            if (response.success) {\r\n                var userID = response.user.userID;\r\n                var userType = response.user.userType;\r\n\r\n                if (userType === 'admin') {\r\n                    window.location.href = 'admin.html?userID=' + userID;\r\n                } else if (userType === 'user') {\r\n                    window.location.href = 'main.html?userID=' + userID;\r\n                }\r\n            } else {\r\n                alert('Login failed: ' + response.message);\r\n            }\r\n        },\r\n        error: function (xhr, status, error) {\r\n            console.log('An error occurred: ' + error);\r\n            console.error('Error response:', xhr.responseText);\r\n            hideLoader();\r\n        }\r\n    });\r\n}\r\n\r\n\r\nfunction handleRegister() {\r\n\r\n\r\n    const email = document.getElementById('email').value.toLowerCase().trim();\r\n    const password = document.getElementById('password').value.trim();\r\n    const password2 = document.getElementById('confirmPassword').value.trim();\r\n    const fullname = document.getElementById('fullName').value;\r\n    const cellNumber = document.getElementById('cellNumber').value.trim();\r\n\r\n\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n        alert('Please enter a valid email address');\r\n        return;\r\n    }\r\n    const phoneRegex = /^0[6-8][0-9]{8}$/;\r\n    if (!phoneRegex.test(cellNumber)) {\r\n        alert('Please enter a valid South African phone number');\r\n        return;\r\n    }\r\n    if (password !== password2) {\r\n        alert('Password Dont Match');\r\n        return;\r\n    }\r\n\r\n    if (fullname === '') {\r\n        alert('Fullname is required');\r\n        return;\r\n    }\r\n\r\n    const passwordRegex = /^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{6,}$/;\r\n    if (!passwordRegex.test(password)) {\r\n        alert('Password must be at least 6 characters long, contain at least one uppercase letter, one lowercase letter, one number, and one special character');\r\n        return;\r\n    }\r\n    registerUsers(fullname, email, password, cellNumber);\r\n\r\n}\r\n\r\nfunction registerUsers(fullname, email, password, cellNumber) {\r\n    showLoader();\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            function: 'registerUser',\r\n            email: email,\r\n            password: password,\r\n            fullname: fullname,\r\n            cellNumber: cellNumber,\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n            console.log('the error :' + response)\r\n            if (response.success) {\r\n                alert(response.message);\r\n                window.location.href = 'index.html';\r\n\r\n            } else {\r\n                alert(response.message);\r\n            }\r\n        },\r\n        error: function (xhr, status, error) {\r\n            console.error('Error response:', xhr.responseText);\r\n            hideLoader();\r\n        }\r\n    });\r\n}\r\n\r\n\r\nfunction handleUpdatePassword() {\r\n\r\n\r\n    const emailInput = document.getElementById('email');\r\n\r\n    const email = emailInput.value;\r\n\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n        console.log('password: ' + email);\r\n        alert('Please enter a valid email address');\r\n        return;\r\n    }\r\n    updatePassword(email);\r\n\r\n}\r\n\r\nfunction updatePassword(email) {\r\n    showLoader();\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            function: 'updatePassword',\r\n            email: email,\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n            console.log(response);\r\n            if (response.success) {\r\n                alert(response.message);\r\n                window.location.href = 'index.html';\r\n\r\n            } else {\r\n                alert(response.message);\r\n            }\r\n        },\r\n        error: function (xhr, status, error) {\r\n            console.error('Error response:', xhr.responseText);\r\n            hideLoader();\r\n        }\r\n    });\r\n}\r\nfunction changeReadonly() {\r\n    var allInputs = document.querySelectorAll('input, textarea');\r\n    btnUpdate = document.getElementById('update');\r\n    fullname = document.getElementById('fullname');\r\n    hiddenInputs = document.getElementById('hiddenInputs');\r\n\r\n    allInputs.forEach(function (input) {\r\n        input.readOnly = !input.readOnly;\r\n\r\n        if (!input.readOnly) {\r\n            input.style.borderBottom = \"1px solid black\";\r\n            input.style.color = \"#000\";\r\n            btnUpdate.style.display = \"block\";\r\n            fullname.style.display = \"none\";\r\n            hiddenInputs.style.display = \"block\";\r\n\r\n        }\r\n        else {\r\n            input.style.borderBottom = \"none\";\r\n            btnUpdate.style.display = \"none\";\r\n            fullname.style.display = \"block\";\r\n            input.style.color = \"#3c3838\";\r\n            hiddenInputs.style.display = \"none\";\r\n\r\n            getUserData();\r\n        }\r\n    });\r\n}\r\nfunction goToAccHtml() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n    window.location.href = 'account.html?userID=' + userID;\r\n}\r\nfunction goToMainHtml() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n    window.location.href = 'main.html?userID=' + userID;\r\n}\r\nfunction goToAccAdminHtml() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n    window.location.href = 'adminAccount.html?userID=' + userID;\r\n}\r\nfunction goToAdminHtml() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n    window.location.href = 'admin.html?userID=' + userID;\r\n}\r\nfunction getUserData() {\r\n    showLoader();\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            userID: userID,\r\n            function: 'getUserData',\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n            if (response && response.success !== false) {\r\n                populateModalFields(response);\r\n            } else {\r\n                console.error('Failed to get user data');\r\n            }\r\n        },\r\n        error: function (xhr, status, error) {\r\n            console.error('Error response:', xhr.responseText);\r\n            hideLoader();\r\n        }\r\n    });\r\n}\r\n\r\n\r\nfunction populateModalFields(response) {\r\n    const data = response.data;\r\n\r\n    document.querySelector('#email').value = data.email || '';\r\n    document.querySelector('#fullname').value = data.fullname || '';\r\n    document.querySelector('#cellNumber').value = data.cellNumber || '';\r\n\r\n}\r\n\r\n\r\nfunction handleUpdateUser() {\r\n\r\n\r\n    const email = document.getElementById('email').value.toLowerCase().trim();\r\n    const fullname = document.getElementById('fullname').value;\r\n    const cellNumber = document.getElementById('cellNumber').value.trim();\r\n\r\n\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n        alert('Please enter a valid email address');\r\n        return;\r\n    }\r\n    const phoneRegex = /^0[6-8][0-9]{8}$/;\r\n    if (!phoneRegex.test(cellNumber)) {\r\n        alert('Please enter a valid South African phone number');\r\n        return;\r\n    }\r\n\r\n    if (fullname === '') {\r\n        alert('Fullname is required');\r\n        return;\r\n    }\r\n    updateUserDetails(email, fullname, cellNumber);\r\n\r\n}\r\n\r\nfunction updateUserDetails(email, fullname, cellNumber) {\r\n    showLoader();\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            function: 'updateUser',\r\n            email: email,\r\n            fullname: fullname,\r\n            cellNumber: cellNumber,\r\n            userID: userID\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n            if (response.success) {\r\n                alert(response.message);\r\n                location.reload();\r\n            } else {\r\n                alert(response.message);\r\n            }\r\n        },\r\n        error: function (xhr, status, error) {\r\n            console.error('Error response:', xhr.responseText);\r\n            hideLoader();\r\n        }\r\n    });\r\n}\r\nfunction getMedicalReports() {\r\n    showLoader();\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            function: 'medicalReports',\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n\r\n            console.log('response data:', response);\r\n\r\n            if (response) {\r\n                var dataHtml = '';\r\n                response.forEach(function (data) {\r\n                    dataHtml += medicalDisplay(data.id, data.userID, data.campus, data.dateTime, data.status, data.city);\r\n                });\r\n\r\n                $('#reports').html(dataHtml);\r\n            } else {\r\n                $('#reports').html('No data found');\r\n            }\r\n        },\r\n        error: function (xhr, status, error) {\r\n            console.error('Error response:', xhr.responseText);\r\n            hideLoader();\r\n        }\r\n    });\r\n}\r\n\r\nfunction getFireReports() {\r\n    showLoader();\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            function: 'fireReports',\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n\r\n            console.log('response data:', response);\r\n\r\n            if (response) {\r\n                var dataHtml = '';\r\n                response.forEach(function (data) {\r\n                    dataHtml += fireDisplay(data.id, data.userID, data.campus, data.dateTime, data.city);\r\n                });\r\n\r\n                $('#reports').html(dataHtml);\r\n            } else {\r\n                $('#reports').html('No data found');\r\n            }\r\n        },\r\n        error: function (xhr, status, error) {\r\n            console.error('Error response:', xhr.responseText);\r\n            hideLoader();\r\n        }\r\n    });\r\n}\r\n\r\nfunction getSecurityReports() {\r\n    showLoader();\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            function: 'securityReports',\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n\r\n            console.log('response data:', response);\r\n\r\n            if (response) {\r\n                var dataHtml = '';\r\n                response.forEach(function (data) {\r\n                    dataHtml += securityDisplay(data.id, data.userID, data.campus, data.dateTime, data.securityType, data.city);\r\n                });\r\n\r\n                $('#reports').html(dataHtml);\r\n            } else {\r\n                $('#reports').html('No data found');\r\n            }\r\n        },\r\n        error: function (xhr, status, error) {\r\n            console.error('Error response:', xhr.responseText);\r\n            hideLoader();\r\n        }\r\n    });\r\n}\r\n\r\nfunction medicalView() {\r\n    showLoader();\r\n\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const itemId = urlParams.get('itemID');\r\n    $.ajax({\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        url: 'php/controller.php',\r\n        data: {\r\n            function: 'medicalView',\r\n            itemId: itemId,\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n\r\n            if (response.success) {\r\n                const data = response.data;\r\n                $('#campus').text(data.campus);\r\n                $('#status').text(data.status);\r\n                $('#date').text(data.dateTime);\r\n\r\n                const latitude = data.latitude;\r\n                const longitude = data.longitude;\r\n                const place = data.city;\r\n                updateMapIframe(latitude, longitude, place);\r\n            } else {\r\n                alert('Error \\n' + response.message);\r\n            }\r\n        },\r\n        error(xhr, error) {\r\n            hideLoader();\r\n            console.log('An Error: ' + error);\r\n            console.error('Response Error: ' + xhr.responseText);\r\n        }\r\n    });\r\n}\r\n\r\nfunction medicalViewsos() {\r\n    showLoader();\r\n\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const itemId = urlParams.get('itemID');\r\n    $.ajax({\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        url: 'php/controller.php',\r\n        data: {\r\n            function: 'medicalViewsos',\r\n            itemId: itemId,\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n\r\n            if (response.success) {\r\n                const data = response.data;\r\n                $('#campus').text(data.campus);\r\n                $('#status').text(data.status);\r\n                $('#date').text(data.dateTime);\r\n\r\n                const latitude = data.latitude;\r\n                const longitude = data.longitude;\r\n                const place = data.city;\r\n                updateMapIframe(latitude, longitude, place);\r\n            } else {\r\n                alert('Error \\n' + response.message);\r\n            }\r\n        },\r\n        error(xhr, error) {\r\n            hideLoader();\r\n            console.log('An Error: ' + error);\r\n            console.error('Response Error: ' + xhr.responseText);\r\n        }\r\n    });\r\n}\r\n\r\nfunction securityView() {\r\n    showLoader();\r\n\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const itemId = urlParams.get('itemID');\r\n    $.ajax({\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        url: 'php/controller.php',\r\n        data: {\r\n            function: 'securityView',\r\n            itemId: itemId,\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n\r\n            if (response.success) {\r\n                const data = response.data;\r\n                $('#campus').text(data.campus);\r\n                $('#status').text(data.securityType);\r\n                $('#date').text(data.dateTime);\r\n\r\n                const latitude = data.latitude;\r\n                const longitude = data.longitude;\r\n                const place = data.city;\r\n                updateMapIframe(latitude, longitude, place);\r\n            } else {\r\n                alert('Error \\n' + response.message);\r\n            }\r\n        },\r\n        error(xhr, error) {\r\n            hideLoader();\r\n            console.log('An Error: ' + error);\r\n            console.error('Response Error: ' + xhr.responseText);\r\n        }\r\n    });\r\n}\r\n\r\n\r\nfunction securityViewsos() {\r\n    showLoader();\r\n\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const itemId = urlParams.get('itemID');\r\n    $.ajax({\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        url: 'php/controller.php',\r\n        data: {\r\n            function: 'securityViewsos',\r\n            itemId: itemId,\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n\r\n            if (response.success) {\r\n                const data = response.data;\r\n                $('#campus').text(data.campus);\r\n                $('#status').text(data.securityType);\r\n                $('#date').text(data.dateTime);\r\n\r\n                const latitude = data.latitude;\r\n                const longitude = data.longitude;\r\n                const place = data.city;\r\n                updateMapIframe(latitude, longitude, place);\r\n            } else {\r\n                alert('Error \\n' + response.message);\r\n            }\r\n        },\r\n        error(xhr, error) {\r\n            hideLoader();\r\n            console.log('An Error: ' + error);\r\n            console.error('Response Error: ' + xhr.responseText);\r\n        }\r\n    });\r\n}\r\n\r\nfunction fireView() {\r\n    showLoader();\r\n\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const itemId = urlParams.get('itemID');\r\n    $.ajax({\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        url: 'php/controller.php',\r\n        data: {\r\n            function: 'fireView',\r\n            itemId: itemId,\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n\r\n            if (response.success) {\r\n                const data = response.data;\r\n                $('#campus').text(data.campus);\r\n                $('#date').text(data.dateTime);\r\n\r\n                const latitude = data.latitude;\r\n                const longitude = data.longitude;\r\n                updateMapIframe(latitude, longitude);\r\n            } else {\r\n                alert('Error \\n' + response.message);\r\n            }\r\n        },\r\n        error(xhr, error) {\r\n            hideLoader();\r\n            console.log('An Error: ' + error);\r\n            console.error('Response Error: ' + xhr.responseText);\r\n        }\r\n    });\r\n}\r\n\r\nfunction fireViewsos() {\r\n    showLoader();\r\n\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const itemId = urlParams.get('itemID');\r\n    $.ajax({\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        url: 'php/controller.php',\r\n        data: {\r\n            function: 'fireViewsos',\r\n            itemId: itemId,\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n\r\n            if (response.success) {\r\n                const data = response.data;\r\n                $('#campus').text(data.campus);\r\n                $('#date').text(data.dateTime);\r\n\r\n                const latitude = data.latitude;\r\n                const longitude = data.longitude;\r\n                updateMapIframe(latitude, longitude);\r\n            } else {\r\n                alert('Error \\n' + response.message);\r\n            }\r\n        },\r\n        error(xhr, error) {\r\n            hideLoader();\r\n            console.log('An Error: ' + error);\r\n            console.error('Response Error: ' + xhr.responseText);\r\n        }\r\n    });\r\n}\r\nfunction updateMapIframe(latitude, longitude) {\r\n    const mapUrl = `https://www.google.com/maps?q=${latitude},${longitude}&hl=es;z=14&output=embed`;\r\n    document.getElementById('mapIframe').src = mapUrl;\r\n}\r\n\r\nfunction medicalViewUserData() {\r\n    showLoader();\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            userID: userID,\r\n            function: 'getUserData',\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n            if (response.success) {\r\n                const data = response.data;\r\n                $('#fullname').text(data.fullname);\r\n                $('#cellNumber').text(data.cellNumber);\r\n                $('#email').text(data.email);\r\n            } else {\r\n                alert(response.message);\r\n            }\r\n        },\r\n        error(xhr, error) {\r\n            hideLoader();\r\n            console.log('An Error: ' + error);\r\n            console.error('Response Error: ' + xhr.responseText);\r\n        }\r\n    });\r\n}\r\n\r\nfunction sosMedical() {\r\n\r\n    showLoader();\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n\r\n    if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(function (position) {\r\n            const latitude = position.coords.latitude;\r\n            const longitude = position.coords.longitude;\r\n\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: \"php/controller.php\",\r\n                dataType: 'json',\r\n                data: {\r\n                    userID: userID,\r\n                    latitude: latitude,\r\n                    longitude: longitude,\r\n                    function: 'sosMedical',\r\n                },\r\n                success: function (response) {\r\n                    hideLoader();\r\n                    if (response.success) {\r\n                        showMessageModel();\r\n                    } else {\r\n                        alert(response.message);\r\n                    }\r\n                },\r\n                error(xhr, error) {\r\n                    hideLoader();\r\n                    console.log('An Error: ' + error);\r\n                    console.error('Response Error: ' + xhr.responseText);\r\n                }\r\n            });\r\n\r\n        }, function (error) {\r\n            hideLoader();\r\n            console.error('Geolocation error: ' + error.message);\r\n            alert('Unable to retrieve your location. Please try again.');\r\n        });\r\n    } else {\r\n        hideLoader();\r\n        alert('Geolocation is not supported by your browser.');\r\n    }\r\n}\r\nfunction sosFire() {\r\n\r\n    showLoader();\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n\r\n    if (navigator.geolocation) {\r\n\r\n        navigator.geolocation.getCurrentPosition(function (position) {\r\n            const latitude = position.coords.latitude;\r\n            const longitude = position.coords.longitude;\r\n\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: \"php/controller.php\",\r\n                dataType: 'json',\r\n                data: {\r\n                    userID: userID,\r\n                    latitude: latitude,\r\n                    longitude: longitude,\r\n                    function: 'sosFire',\r\n                },\r\n                success: function (response) {\r\n                    hideLoader();\r\n                    if (response.success) {\r\n                        showMessageModel();\r\n                    } else {\r\n                        alert(response.message);\r\n                    }\r\n                },\r\n                error(xhr, error) {\r\n                    hideLoader();\r\n                    console.log('An Error: ' + error);\r\n                    console.error('Response Error: ' + xhr.responseText);\r\n                }\r\n            });\r\n\r\n        }, function (error) {\r\n            hideLoader();\r\n            console.error('Geolocation error: ' + error.message);\r\n            alert('Unable to retrieve your location. Please try again.');\r\n        });\r\n    } else {\r\n        hideLoader();\r\n        alert('Geolocation is not supported by your browser.');\r\n    }\r\n\r\n}\r\nfunction sosSecuriry() {\r\n\r\n    showLoader();\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const userID = urlParams.get('userID');\r\n\r\n\r\n    if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(function (position) {\r\n            const latitude = position.coords.latitude;\r\n            const longitude = position.coords.longitude;\r\n\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: \"php/controller.php\",\r\n                dataType: 'json',\r\n                data: {\r\n                    userID: userID,\r\n                    latitude: latitude,\r\n                    longitude: longitude,\r\n                    function: 'sosSecurity',\r\n                },\r\n                success: function (response) {\r\n                    hideLoader();\r\n                    if (response.success) {\r\n                        showMessageModel();\r\n                    } else {\r\n                        alert(response.message);\r\n                    }\r\n                },\r\n                error(xhr, error) {\r\n                    hideLoader();\r\n                    console.log('An Error: ' + error);\r\n                    console.error('Response Error: ' + xhr.responseText);\r\n                }\r\n            });\r\n\r\n        }, function (error) {\r\n            hideLoader();\r\n            console.error('Geolocation error: ' + error.message);\r\n            alert('Unable to retrieve your location. Please try again.');\r\n        });\r\n    } else {\r\n        hideLoader();\r\n        alert('Geolocation is not supported by your browser.');\r\n    }\r\n}\r\n\r\nfunction getAllSOSReports() {\r\n    showLoader();\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: \"php/controller.php\",\r\n        dataType: 'json',\r\n        data: {\r\n            function: 'sosAllproducts'\r\n        },\r\n        success: function (response) {\r\n            hideLoader();\r\n\r\n            if (response.success) {\r\n                let postHtml = '';\r\n\r\n                const data = response.data;\r\n\r\n                if (data.sosMedical && Array.isArray(data.sosMedical)) {\r\n                    data.sosMedical.forEach(item => {\r\n                        postHtml += sosMedicalDisplay(item.id, item.userID, item.dateTime, item.status);\r\n                    });\r\n                }\r\n\r\n                if (data.sosFire && Array.isArray(data.sosFire)) {\r\n                    data.sosFire.forEach(item => {\r\n                        postHtml += sosFireDisplay(item.id, item.userID, item.dateTime);\r\n                    });\r\n                }\r\n\r\n                if (data.sosSecurity && Array.isArray(data.sosSecurity)) {\r\n                    data.sosSecurity.forEach(item => {\r\n                        postHtml += sosSecurityDisplay(item.id, item.userID, item.dateTime, item.securityType);\r\n                    });\r\n                }\r\n\r\n                if (postHtml) {\r\n                    $('#reports').append(postHtml);\r\n                } else {\r\n                    alert('No reports to display.');\r\n                }\r\n            } else {\r\n                alert(response.message || 'Failed to load reports.');\r\n            }\r\n        },\r\n        error(xhr, error) {\r\n            hideLoader();\r\n            console.log('An Error: ' + error);\r\n            console.error('Response Error: ' + xhr.responseText);\r\n        }\r\n    });\r\n}\r\n\r\n"]}